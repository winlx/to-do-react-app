(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,a,t){e.exports=t(358)},145:function(e,a,t){},339:function(e,a,t){},358:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),c=t(9),l=t.n(c),s=(t(145),t(61)),o=t(138),i=t.n(o),u=(t(146),t(92)),d=t.n(u),m=(t(151),t(19)),p=t.n(m),f=(t(93),t(59)),E=t.n(f),b=(t(65),t(14)),O=t.n(b),k=(t(156),t(35)),h=t.n(k),v=(t(66),t(42)),j=t.n(v),g=(t(62),t(21)),y=t.n(g);t(64);function F(e){return Object.keys(e).some(function(a){return e[a]})}var w="ADD_TASK",T="EDIT_TASK",C="REMOVE_TASK";function _(e){return{type:T,payload:e}}var I=p.a.create({name:"addingTask"})(function(e){var a=e.dispatch,t=e.form,c=t.getFieldDecorator,l=t.getFieldsError,s=t.getFieldValue,o=t.validateFields,i=t.resetFields,u=Object(r.useCallback)(function(){o();var e=s("task");e&&(a({type:w,payload:e}),i())},[a,o,s,i]);return n.a.createElement(j.a,null,n.a.createElement(y.a,{span:18},n.a.createElement(p.a.Item,null,c("task",{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438!"}]})(n.a.createElement(E.a,{prefix:n.a.createElement(O.a,{type:"schedule"}),placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})))),n.a.createElement(y.a,{offset:1,span:5},n.a.createElement(p.a.Item,null,n.a.createElement(h.a,{shape:"circle",icon:"plus",onClick:u,disabled:F(l())}))))}),D=t(134),V=t.n(D),A=(t(318),t(136)),S=t.n(A);t(322);var x=p.a.create({name:"task"})(function(e){var a=e.dispatch,t=e.task,c=t.id,l=t.desc,o=t.isFinished,i=e.form,u=i.getFieldDecorator,d=i.getFieldsError,m=i.getFieldValue,f=i.validateFields,b=Object(r.useCallback)(function(){a({type:C,payload:c})},[a,c]),O=Object(r.useCallback)(function(e){a(_({id:c,isFinished:e}))},[a,c]),k=Object(r.useState)(!1),v=Object(s.a)(k,2),g=v[0],w=v[1],T=Object(r.useRef)(),I=Object(r.useCallback)(function(){return w(function(e){return!e})},[w]);Object(r.useEffect)(function(){g&&T.current&&T.current.focus()},[g,T]);var D=Object(r.useCallback)(function(e){f();var t=m("task");t&&(a(_({id:c,desc:t})),(e.relatedTarget&&e.relatedTarget.closest(".to-do-app__task-row"))!==(e.currentTarget&&e.currentTarget.closest(".to-do-app__task-row"))&&I())},[c,a,f,m,I]);return n.a.createElement(j.a,{className:"to-do-app__task-row"},n.a.createElement(y.a,{span:18},n.a.createElement(p.a.Item,null,g?u("task",{initialValue:l,rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438!"}]})(n.a.createElement(E.a,{ref:T,onBlur:D,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})):n.a.createElement(V.a.Text,{delete:o},l))),n.a.createElement(y.a,{offset:1,span:1},n.a.createElement(p.a.Item,null,u("isFinished",{initialValue:o})(n.a.createElement(S.a,{onChange:O,size:"small"})))),n.a.createElement(y.a,{offset:1,span:1},n.a.createElement(p.a.Item,null,n.a.createElement(h.a,{shape:"circle",icon:"edit",onClick:I,disabled:F(d())}))),n.a.createElement(y.a,{offset:1,span:1},n.a.createElement(p.a.Item,null,n.a.createElement(h.a,{shape:"circle",icon:"delete",onClick:b}))))});function K(e){return e.tasks.map(function(a){return n.a.createElement(x,{key:a.id,task:a,dispatch:e.dispatch})})}var R=t(60),q=t(45),B=t(137),J=t.n(B);function M(e,a){switch(a.type){case w:var t=Object.values(e);t.sort(function(e,a){return e.sortOrder-a.sortOrder});var r=t.length?t[t.length-1].sortOrder+1:1,n=J()();return Object(q.a)({},e,Object(R.a)({},n,{id:n,desc:a.payload,sortOrder:r,isFinished:!1}));case T:var c=Object(q.a)({},e);return c[a.payload.id]=Object(q.a)({},c[a.payload.id],a.payload),c;case C:var l=Object(q.a)({},e);return delete l[a.payload],l;default:throw new Error('\u0422\u0430\u043a\u043e\u0433\u043e \u044d\u043a\u0448\u0435\u043d\u0430 "'.concat(a.type,'" \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.'))}}t(339);var N={};var z=function(){var e=Object(r.useReducer)(M,N),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(r.useMemo)(function(){return Object.values(t).sort(function(e,a){return e.sortOrder-a.sortOrder})},[t]);return n.a.createElement(i.a,{className:"to-do-app"},n.a.createElement(d.a,null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"),n.a.createElement(I,{dispatch:c}),n.a.createElement(d.a,null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447"),n.a.createElement(K,{tasks:l,dispatch:c}))};l.a.render(n.a.createElement(z,null),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.4d5c79eb.chunk.js.map